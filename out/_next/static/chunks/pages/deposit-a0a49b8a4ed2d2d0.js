(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{6201:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/deposit",function(){return a(1657)}])},1657:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return DepositPage}});var s=a(5893),r=a(7294),l=a(9008),n=a.n(l),i=a(5675),c=a.n(i),d=a(623),o=a(9081),x=a(7349);let getWordForm=(e,t)=>{let a=e%10,s=e%100;return"year"===t?s>=11&&s<=19?"лет":1===a?"год":a>=2&&a<=4?"года":"лет":s>=11&&s<=19?"месяцев":1===a?"месяц":a>=2&&a<=4?"месяца":"месяцев"};function DurationSelect(e){let{value:t,onChange:a,term:l}=e,n=parseInt(l)||0,i=[{id:1,name:getWordForm(n,"year")},{id:2,name:getWordForm(n,"month")}],c=i.find(e=>1===e.id?["год","года","лет"].includes(t):["месяц","месяца","месяцев"].includes(t))||i[0];return(0,s.jsx)(d.Ri,{value:c,onChange:e=>a(e.name),children:(0,s.jsxs)("div",{className:"relative flex h-[60px]",children:[(0,s.jsx)("div",{className:"flex-1 bg-[#E9F5FF] rounded-l-[30px]"}),(0,s.jsx)("div",{className:"w-[160px]",children:(0,s.jsxs)(d.Ri.Button,{className:"w-full h-full rounded-[30px] bg-[#CEE1F0] py-0 pl-6 pr-10 text-gray-900 focus:ring-2 focus:ring-inset focus:ring-accent-blue text-[22px] flex items-center",children:[(0,s.jsx)("span",{className:"block truncate",children:t}),(0,s.jsx)(x.Z,{className:"h-5 w-5 text-gray-900 absolute right-4","aria-hidden":"true"})]})}),(0,s.jsx)(o.u,{as:r.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)(d.Ri.Options,{className:"absolute right-0 z-10 mt-2 w-[160px] overflow-hidden rounded-[15px] bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:i.map(e=>(0,s.jsx)(d.Ri.Option,{className:e=>{let{active:t}=e;return"relative cursor-pointer select-none py-3 pl-6 pr-4 ".concat(t?"bg-[#E9F5FF] text-accent-blue":"text-gray-900")},value:e,children:t=>{let{selected:a}=t;return(0,s.jsx)("span",{className:"block truncate text-[18px] ".concat(a?"font-medium text-accent-blue":"font-normal"),children:e.name})}},e.id))})})]})})}var p=a(5379),u=a.n(p),m=a(1988),h=a(6627),b=a.n(h);a(5890);var g=a(7744);(0,m.I2)("ru",g.Z);var components_DatePickerInput=e=>{let{value:t,onChange:a,placeholder:l="дд.мм.гггг",className:n=""}=e,[i,d]=(0,r.useState)(""),[o,x]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{function handleClickOutside(e){g.current&&!g.current.contains(e.target)&&x(!1)}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[]),(0,r.useEffect)(()=>{if(t){let e=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear();d("".concat(e,".").concat(a,".").concat(s)),h("")}else d("")},[t]);let parseDate=e=>{if(10!==e.length)return null;let[t,a,s]=e.split("."),r=new Date(parseInt(s),parseInt(a)-1,parseInt(t));return r.getDate()===parseInt(t)&&r.getMonth()===parseInt(a)-1&&r.getFullYear()===parseInt(s)?r<new Date(new Date().setHours(0,0,0,0))?(h("Дата не может быть в прошлом"),null):r:(h("Некорректная дата"),null)};return(0,s.jsxs)("div",{ref:g,className:"jsx-8ecb1d368bf4b27d relative",children:[(0,s.jsxs)("div",{className:"jsx-8ecb1d368bf4b27d relative",children:[(0,s.jsx)(b(),{mask:"99.99.9999",value:i,onChange:e=>{let t=e.target.value;if(d(t),10===t.length){let e=parseDate(t);e&&(a(e),h(""))}""===t&&(a(null),h(""))},placeholder:l,className:"w-full h-[60px] pl-10 pr-[120px] rounded-[30px] bg-[#E9F5FF] border-0 focus:ring-2 focus:ring-accent-blue text-[22px] ".concat(n),maskChar:"_"}),(0,s.jsx)("div",{className:"jsx-8ecb1d368bf4b27d absolute right-0 inset-y-0 flex items-center",children:(0,s.jsx)("button",{type:"button",onClick:()=>x(!o),className:"jsx-8ecb1d368bf4b27d h-[60px] w-[90px] rounded-[30px] bg-[#CEE1F0] flex items-center justify-center cursor-pointer",children:(0,s.jsx)(c(),{src:"/calc/img/date.svg",alt:"Календарь",width:24,height:24})})})]}),(0,s.jsx)("div",{className:"jsx-8ecb1d368bf4b27d h-6",children:p&&(0,s.jsx)("div",{className:"jsx-8ecb1d368bf4b27d pl-10 text-red-500 text-sm",children:p})}),o&&(0,s.jsx)("div",{className:"jsx-8ecb1d368bf4b27d absolute z-10",children:(0,s.jsx)(m.ZP,{selected:t,onChange:e=>{a(e),x(!1),h("")},locale:"ru",inline:!0,dateFormat:"dd.MM.yyyy",minDate:new Date,calendarClassName:"rounded-[15px] border border-gray-200 shadow-lg"})}),(0,s.jsx)(u(),{id:"8ecb1d368bf4b27d",children:".react-datepicker{font-family:inherit;-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;border:1px solid#e5e7eb;-webkit-box-shadow:0 10px 15px -3px rgb(0 0 0/.1);-moz-box-shadow:0 10px 15px -3px rgb(0 0 0/.1);box-shadow:0 10px 15px -3px rgb(0 0 0/.1)}.react-datepicker__header{background:white;border-bottom:1px solid#e5e7eb;-webkit-border-radius:15px 15px 0 0;-moz-border-radius:15px 15px 0 0;border-radius:15px 15px 0 0;padding-top:10px}.react-datepicker__current-month{font-size:14px;font-weight:500;color:#111827;text-transform:capitalize;margin-bottom:5px}.react-datepicker__day-name{color:#6b7280;font-weight:500;width:28px;margin:3px;text-transform:capitalize;font-size:12px}.react-datepicker__day{width:28px;height:28px;line-height:28px;margin:3px;-webkit-border-radius:14px;-moz-border-radius:14px;border-radius:14px;color:#111827;font-size:13px}.react-datepicker__day:hover{background-color:#e9f5ff}.react-datepicker__day--selected{background-color:#2c7dfa!important;color:white!important}.react-datepicker__day--keyboard-selected{background-color:#e9f5ff;color:#111827}.react-datepicker__navigation{top:8px}.react-datepicker__navigation-icon::before{border-color:#6b7280;border-width:2px 2px 0 0;width:7px;height:7px}.react-datepicker__navigation:hover *::before{border-color:#111827}.react-datepicker__month{margin:.4em}"})]})};let validateAmount=e=>{let t=parseFloat(e.replace(/[^\d.]/g,""));return isNaN(t)?"Введите корректную сумму":t<1?"Минимальная сумма вклада 1 ₽":t>1e7?"Максимальная сумма вклада 10 000 000 ₽":void 0},validateTerm=e=>e<=0?"Срок вклада должен быть больше 0":e>60?"Максимальный срок вклада 60 месяцев":void 0,validateRate=e=>{let t=parseFloat(e.replace(",","."));return isNaN(t)?"Введите корректную ставку":t<.01?"Минимальная ставка 0.01%":t>50?"Максимальная ставка 50%":void 0},formatNumber=e=>new Intl.NumberFormat("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e),formatAmount=e=>{let t=e.replace(/[^\d]/g,""),a=parseInt(t)||0;return new Intl.NumberFormat("ru-RU").format(a)},formatRate=e=>{if(""===e)return"";let t=e.replace(/[^\d.,]/g,"").replace(",",".");if("."===t)return t;if(t.includes(".")){let[e,a]=t.split(".");return"".concat(e,".").concat((a||"").slice(0,2))}let a=parseFloat(t);return isNaN(a)?"":a.toString()},useDepositCalculator=()=>{let[e,t]=(0,r.useState)(formatAmount("1000000")),[a,s]=(0,r.useState)("1"),[l,n]=(0,r.useState)("year"),[i,c]=(0,r.useState)("5.00"),[d,o]=(0,r.useState)(new Date),[x,p]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[h,b]=(0,r.useState)(0),[g,v]=(0,r.useState)(0),[f,j]=(0,r.useState)(0),[N,y]=(0,r.useState)([]),[w,k]=(0,r.useState)(!1),[F,_]=(0,r.useState)({}),convertToMonths=(e,t)=>{let a=parseInt(e)||0;return"year"===t?12*a:a};return(0,r.useEffect)(()=>{(()=>{if(Object.values(F).some(e=>void 0!==e))return;let t=parseFloat(e.replace(/[^\d]/g,"")),s=parseFloat(i.replace(",",".")),r=convertToMonths(a,l);if(isNaN(t)||isNaN(s)||r<=0)return;let n=t,c=0,o=[],p=new Date(d);if(o.push({date:p.toLocaleDateString("ru-RU"),interest:0,balance:t,isCapitalization:!1}),x&&u){let e={monthly:12,quarterly:4,yearly:1}[u],a=s/100/e;c=(n=t*Math.pow(1+a,r/12*e))-t;let l=t,i={monthly:1,quarterly:3,yearly:12}[u];for(let e=1;e<=r;e++){(p=new Date(d)).setMonth(p.getMonth()+e);let r=e%i==0;if(r){let s=e/i,r=t*Math.pow(1+a,s),n=r-l;l=r,o.push({date:p.toLocaleDateString("ru-RU"),interest:n,balance:l,isCapitalization:!0})}else{let e=s/100/12,t=l*e;o.push({date:p.toLocaleDateString("ru-RU"),interest:t,balance:l,isCapitalization:!1})}}j((Math.pow(n/t,1/(r/12))-1)*100)}else{let e=t*(s/100),a=e/12;n=t+(c=a*r);for(let e=1;e<=r;e++)(p=new Date(d)).setMonth(p.getMonth()+e),o.push({date:p.toLocaleDateString("ru-RU"),interest:a,balance:t+a*e,isCapitalization:!1});j(s)}b(n),v(c),y(o)})()},[e,a,l,i,d,x,u,F]),{amount:e,term:a,periodType:l,rate:i,startDate:d,total:h,profit:g,schedule:N,isVisible:w,errors:F,effectiveRate:f,setAmount:e=>{let a=e.replace(/[^\d]/g,"");t(formatAmount(a)),_(e=>({...e,amount:validateAmount(a)}))},setTerm:e=>{if(""===e||/^\d{1,3}$/.test(e)){s(e);let t=convertToMonths(e,l);_(e=>({...e,term:validateTerm(t)}))}},setPeriodType:n,setRate:e=>{let t=formatRate(e);c(t),t&&!t.endsWith(".")?_(e=>({...e,rate:validateRate(t)})):_(e=>({...e,rate:void 0}))},setStartDate:o,setIsVisible:k,isCapitalized:x,capitalizationPeriod:u,setIsCapitalized:e=>{p(e),e||m(null)},setCapitalizationPeriod:m,formatNumber}},v=[{value:"monthly",label:"Ежемесячно"},{value:"quarterly",label:"Ежеквартально"},{value:"yearly",label:"Ежегодно"}];var components_CapitalizationSelect=e=>{let{value:t,onChange:a,isCapitalized:l}=e;return(0,r.useEffect)(()=>{!t&&l&&a("monthly")},[t,a]),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("select",{value:t||"monthly",onChange:e=>a(e.target.value),className:"w-full h-[60px] pl-10 rounded-[30px] bg-[#E9F5FF] border-0 focus:ring-2 focus:ring-accent-blue text-[22px] appearance-none cursor-pointer",children:v.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})};let deposit_getWordForm=(e,t)=>{let a=e%10,s=e%100;return"year"===t?s>=11&&s<=19?"лет":1===a?"год":a>=2&&a<=4?"года":"лет":s>=11&&s<=19?"месяцев":1===a?"месяц":a>=2&&a<=4?"месяца":"месяцев"};function DepositPage(){let{amount:e,term:t,periodType:a,rate:r,startDate:l,total:i,profit:d,schedule:o,isVisible:x,errors:p,effectiveRate:u,setAmount:m,setTerm:h,setPeriodType:b,setRate:g,setStartDate:v,setIsVisible:f,formatNumber:j,isCapitalized:N,setIsCapitalized:y,capitalizationPeriod:w,setCapitalizationPeriod:k}=useDepositCalculator(),F=deposit_getWordForm(parseInt(t)||0,"year"===a?"year":"month");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n(),{children:[(0,s.jsx)("title",{children:"Депозитный калькулятор"}),(0,s.jsx)("meta",{name:"description",content:"Рассчитайте доход по вкладу и оцените, как он меняется в зависимости от разных сроков и условий выплаты процентов"})]}),(0,s.jsx)("main",{className:"min-h-screen bg-deep-blue",children:(0,s.jsxs)("div",{className:"relative py-12 px-4 max-w-container mx-auto",children:[(0,s.jsxs)("div",{className:"grid lg:grid-cols-12 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-5",children:[(0,s.jsx)("div",{className:"inline-flex items-center px-[30px] py-[5px] bg-accent-blue text-white text-subhead rounded-[30px]",children:"Бесплатный и понятный"}),(0,s.jsxs)("h1",{className:"text-head text-white mt-2.5",children:["ИСПОЛЬЗУЙ НАШ",(0,s.jsx)("br",{}),"ДЕПОЗИТНЫЙ КАЛЬКУЛЯТОР"]}),(0,s.jsx)("p",{className:"text-subhead text-white/80 mt-10",children:"Вы сможете рассчитать доход по вкладу, оценить, как он меняется в зависимости от разных сроков и условий выплаты процентов."})]}),(0,s.jsx)("div",{className:"hidden lg:block lg:col-span-7 relative h-[400px]",children:(0,s.jsx)(c(),{src:"/calc/img/cards.png",alt:"Банковские карты",fill:!0,style:{objectFit:"contain",objectPosition:"right center"},priority:!0})})]}),(0,s.jsx)("div",{className:"relative -mt-20",children:(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("div",{className:"bg-white rounded-[30px] shadow-lg",children:(0,s.jsx)("div",{className:"max-w-container mx-auto",children:(0,s.jsx)("div",{className:"px-[60px] py-[80px]",children:(0,s.jsx)("form",{className:"space-y-8",children:(0,s.jsxs)("div",{className:"grid gap-[70px] md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-label text-gray-700 pl-10",children:"Сумма вклада, ₽"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>m(e.target.value),className:"w-full h-[60px] pl-10 rounded-[30px] bg-[#E9F5FF] border-0 focus:ring-2 focus:ring-accent-blue text-[22px]"}),p.amount&&(0,s.jsx)("div",{className:"text-red-500 text-sm pl-10",children:p.amount})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-label text-gray-700 pl-10",children:"Срок вклада"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:t,onChange:e=>{h(e.target.value)},className:"w-full h-[60px] pl-10 rounded-[30px] bg-[#E9F5FF] border-0 focus:ring-2 focus:ring-accent-blue text-[22px]"}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:(0,s.jsx)(DurationSelect,{value:F,onChange:e=>{b("год"===e||"года"===e||"лет"===e?"year":"month")},term:t})})]}),p.term&&(0,s.jsx)("div",{className:"text-red-500 text-sm pl-10",children:p.term})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-label text-gray-700 pl-10",children:"Процентная ставка, % годовых"}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>g(e.target.value),onBlur:e=>{let t=e.target.value;t&&!t.includes(".")?g("".concat(t,".00")):t.endsWith(".")?g("".concat(t,"00")):t.includes(".")&&t.split(".")[1].length<2&&g("".concat(t,"0"))},className:"w-full h-[60px] pl-10 rounded-[30px] bg-[#E9F5FF] border-0 focus:ring-2 focus:ring-accent-blue text-[22px]"}),p.rate&&(0,s.jsx)("div",{className:"text-red-500 text-sm pl-10",children:p.rate})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-label text-gray-700 pl-10",children:"Дата открытия"}),(0,s.jsx)(components_DatePickerInput,{value:l,onChange:v}),p.startDate&&(0,s.jsx)("div",{className:"text-red-500 text-sm pl-10",children:p.startDate})]}),(0,s.jsxs)("div",{className:"col-span-2 grid grid-cols-2 gap-[70px] items-start",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"block text-label text-gray-700 pl-10 invisible",children:"\xa0"}),(0,s.jsx)("div",{className:"h-[60px] flex items-center",children:(0,s.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:N,onChange:e=>y(e.target.checked),className:"h-[20px] w-[20px] min-w-[20px] min-h-[20px] rounded border-2 border-[#CEE1F0] text-[#CEE1F0] focus:ring-2 focus:ring-[#CEE1F0] checked:bg-[#CEE1F0] checked:hover:bg-[#CEE1F0]"}),(0,s.jsx)("span",{className:"text-[18px] text-gray-700 -mt-[3px]",children:"Начисление процентов с\xa0учетом капитализации"})]})})]}),N&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"block text-label text-gray-700 pl-10",children:"Периодичность капитализации"}),(0,s.jsx)(components_CapitalizationSelect,{value:w,onChange:k,isCapitalized:N})]})]})]})})})})}),(0,s.jsx)("div",{className:"bg-accent-blue text-white rounded-[30px]",children:(0,s.jsx)("div",{className:"max-w-container mx-auto",children:(0,s.jsx)("div",{className:"px-[60px] py-[30px]",children:(0,s.jsxs)("div",{className:"grid gap-[70px] md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"grid col-span-2 ".concat(N?"grid-cols-[42%_29%_29%]":"grid-cols-[55%_45%]"," gap-[20px]"),children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-[18px] font-medium opacity-80 whitespace-nowrap",children:"Сумма в конце срока"}),(0,s.jsxs)("div",{className:"text-[28px] font-semibold whitespace-nowrap",children:[j(i)," ₽"]})]}),N&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-[18px] font-medium opacity-80 whitespace-nowrap",children:"Эффективная ставка"}),(0,s.jsxs)("div",{className:"text-[28px] font-semibold whitespace-nowrap",children:[j(u),"%"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-[18px] font-medium opacity-80 whitespace-nowrap",children:"Доход"}),(0,s.jsxs)("div",{className:"text-[28px] font-semibold whitespace-nowrap",children:[j(d)," ₽"]})]})]}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)("button",{type:"button",onClick:()=>f(!x),className:"w-full h-[60px] bg-white text-[18px] text-accent-blue rounded-[30px] hover:bg-blue-50 transition-colors",children:"График начислений"})})]})})})}),x&&o.length>0&&(0,s.jsx)("div",{className:"mt-8 bg-white rounded-[30px] shadow-lg",children:(0,s.jsx)("div",{className:"max-w-container mx-auto",children:(0,s.jsx)("div",{className:"px-[60px] py-[30px]",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-4 px-0 text-left font-bold text-accent-blue",children:"Дата"}),(0,s.jsx)("th",{className:"py-4 px-6 text-right font-bold text-accent-blue",children:"Начислено процентов"}),(0,s.jsx)("th",{className:"py-4 px-0 text-right font-bold text-accent-blue",children:"Остаток вклада"})]})}),(0,s.jsx)("tbody",{children:o.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,s.jsx)("td",{className:"py-4 px-0",children:e.date}),(0,s.jsxs)("td",{className:"py-4 px-6 text-right",children:[j(e.interest)," ₽"]}),(0,s.jsxs)("td",{className:"py-4 px-0 text-right",children:[j(e.balance)," ₽"]})]},t))})]})})})})})]})})]})})]})}}},function(e){e.O(0,[850,342,644,791,774,888,179],function(){return e(e.s=6201)}),_N_E=e.O()}]);