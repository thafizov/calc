"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{1817:function(e,t,a){var r=a(5893),n=a(7294),o=a(623),l=a(9081),i=a(7349);let s=[{value:"monthly",label:"Ежемесячно"},{value:"quarterly",label:"Ежеквартально"},{value:"yearly",label:"Ежегодно"}];t.Z=e=>{let{value:t,onChange:a,isCapitalized:c}=e;(0,n.useEffect)(()=>{!t&&c&&a("monthly")},[t,a,c]);let d=s.find(e=>e.value===t)||s[0];return(0,r.jsx)(o.Ri,{value:d,onChange:e=>a(e.value),children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(o.Ri.Button,{className:"w-full h-[60px] pl-10 pr-10 rounded-[30px] bg-[#E9F5FF] border-0 focus:ring-2 focus:ring-accent-blue text-[22px] flex items-center justify-between cursor-pointer hover:bg-[#CEE1F0] transition-colors",children:[(0,r.jsx)("span",{className:"block truncate text-left",children:d.label}),(0,r.jsx)(i.Z,{className:"h-5 w-5 text-[#96A8D4] flex-shrink-0","aria-hidden":"true"})]}),(0,r.jsx)(l.u,{as:n.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(o.Ri.Options,{className:"absolute left-0 right-0 z-10 mt-2 overflow-hidden rounded-[15px] bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:s.map(e=>(0,r.jsx)(o.Ri.Option,{className:e=>{let{active:t}=e;return"relative cursor-pointer select-none py-3 pl-10 pr-4 ".concat(t?"bg-[#E9F5FF] text-accent-blue":"text-gray-900")},value:e,children:t=>{let{selected:a}=t;return(0,r.jsx)("span",{className:"block truncate text-[18px] ".concat(a?"font-medium text-accent-blue":"font-normal"),children:e.label})}},e.value))})})]})})}},9782:function(e,t,a){var r=a(5893),n=a(5379),o=a.n(n),l=a(124),i=a(7294),s=a(1988),c=a(6627),d=a.n(c),u=a(5675),p=a.n(u);a(5890);var x=a(7744);(0,s.I2)("ru",x.Z),t.Z=e=>{let{value:t,onChange:a,placeholder:n="дд.мм.гггг",className:c=""}=e,[u,x]=(0,i.useState)(""),[m,h]=(0,i.useState)(!1),[g,b]=(0,i.useState)(""),f=(0,i.useRef)(null);(0,i.useEffect)(()=>{function handleClickOutside(e){f.current&&!f.current.contains(e.target)&&h(!1)}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[]),(0,i.useEffect)(()=>{if(t){let e=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();x("".concat(e,".").concat(a,".").concat(r)),b("")}else x("")},[t]);let parseDate=e=>{if(10!==e.length)return null;let[t,a,r]=e.split("."),n=new Date(parseInt(r),parseInt(a)-1,parseInt(t));return n.getDate()===parseInt(t)&&n.getMonth()===parseInt(a)-1&&n.getFullYear()===parseInt(r)?n<new Date(new Date().setHours(0,0,0,0))?(b("Дата не может быть в прошлом"),null):n:(b("Некорректная дата"),null)};return(0,r.jsxs)("div",{ref:f,className:"jsx-8ecb1d368bf4b27d relative",children:[(0,r.jsxs)("div",{className:"jsx-8ecb1d368bf4b27d relative",children:[(0,r.jsx)(d(),{mask:"99.99.9999",value:u,onChange:e=>{let t=e.target.value;if(x(t),10===t.length){let e=parseDate(t);e&&(a(e),b(""))}""===t&&(a(null),b(""))},placeholder:n,className:"w-full h-[60px] pl-10 pr-[120px] rounded-[30px] bg-[#E9F5FF] border-0 focus:ring-2 focus:ring-accent-blue text-[22px] ".concat(c),maskChar:"_"}),(0,r.jsx)("div",{className:"jsx-8ecb1d368bf4b27d absolute right-0 inset-y-0 flex items-center",children:(0,r.jsx)("button",{type:"button",onClick:()=>h(!m),className:"jsx-8ecb1d368bf4b27d h-[60px] w-[90px] rounded-[30px] bg-[#CEE1F0] flex items-center justify-center cursor-pointer",children:(0,r.jsx)(p(),{src:(0,l.K)("/img/date.svg"),alt:"Календарь",width:24,height:24})})})]}),(0,r.jsx)("div",{className:"jsx-8ecb1d368bf4b27d h-6",children:g&&(0,r.jsx)("div",{className:"jsx-8ecb1d368bf4b27d pl-10 text-red-500 text-sm",children:g})}),m&&(0,r.jsx)("div",{className:"jsx-8ecb1d368bf4b27d absolute z-10",children:(0,r.jsx)(s.ZP,{selected:t,onChange:e=>{a(e),h(!1),b("")},locale:"ru",inline:!0,dateFormat:"dd.MM.yyyy",minDate:new Date,calendarClassName:"rounded-[15px] border border-gray-200 shadow-lg"})}),(0,r.jsx)(o(),{id:"8ecb1d368bf4b27d",children:".react-datepicker{font-family:inherit;-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;border:1px solid#e5e7eb;-webkit-box-shadow:0 10px 15px -3px rgb(0 0 0/.1);-moz-box-shadow:0 10px 15px -3px rgb(0 0 0/.1);box-shadow:0 10px 15px -3px rgb(0 0 0/.1)}.react-datepicker__header{background:white;border-bottom:1px solid#e5e7eb;-webkit-border-radius:15px 15px 0 0;-moz-border-radius:15px 15px 0 0;border-radius:15px 15px 0 0;padding-top:10px}.react-datepicker__current-month{font-size:14px;font-weight:500;color:#111827;text-transform:capitalize;margin-bottom:5px}.react-datepicker__day-name{color:#6b7280;font-weight:500;width:28px;margin:3px;text-transform:capitalize;font-size:12px}.react-datepicker__day{width:28px;height:28px;line-height:28px;margin:3px;-webkit-border-radius:14px;-moz-border-radius:14px;border-radius:14px;color:#111827;font-size:13px}.react-datepicker__day:hover{background-color:#e9f5ff}.react-datepicker__day--selected{background-color:#2c7dfa!important;color:white!important}.react-datepicker__day--keyboard-selected{background-color:#e9f5ff;color:#111827}.react-datepicker__navigation{top:8px}.react-datepicker__navigation-icon::before{border-color:#6b7280;border-width:2px 2px 0 0;width:7px;height:7px}.react-datepicker__navigation:hover *::before{border-color:#111827}.react-datepicker__month{margin:.4em}"})]})}},7404:function(e,t,a){a.d(t,{Z:function(){return DurationSelect}});var r=a(5893),n=a(7294),o=a(623),l=a(9081),i=a(7349);let getWordForm=(e,t)=>{let a=e%10,r=e%100;return"year"===t?r>=11&&r<=19?"лет":1===a?"год":a>=2&&a<=4?"года":"лет":r>=11&&r<=19?"месяцев":1===a?"месяц":a>=2&&a<=4?"месяца":"месяцев"},getSelectClasses=e=>"w-fit ".concat(e<768?"min-w-[88px]":"min-w-[80px]"," max-w-[200px] transition-all duration-200 ease-in-out");function DurationSelect(e){let{value:t,onChange:a,term:s}=e,[c,d]=(0,n.useState)(window.innerWidth);(0,n.useEffect)(()=>{let handleResize=()=>{d(window.innerWidth)};return window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize)},[]);let u=parseInt(s)||0,p=[{id:1,name:getWordForm(u,"year")},{id:2,name:getWordForm(u,"month")}],x=p.find(e=>1===e.id?["год","года","лет"].includes(t):["месяц","месяца","месяцев"].includes(t))||p[0],m=getSelectClasses(c);return(0,r.jsx)(o.Ri,{value:x,onChange:e=>a(e.name),children:(0,r.jsxs)("div",{className:"relative flex h-[60px]",children:[(0,r.jsx)("div",{className:"flex-1 bg-[#E9F5FF] rounded-l-[30px]"}),(0,r.jsx)("div",{className:m,children:(0,r.jsxs)(o.Ri.Button,{className:"w-full h-full rounded-[30px] bg-[#CEE1F0] py-0 pl-6 pr-10 text-gray-900 focus:ring-2 focus:ring-inset focus:ring-accent-blue text-[22px] flex items-center",children:[(0,r.jsx)("span",{className:"block truncate leading-none -translate-y-[2px]",children:t}),(0,r.jsx)(i.Z,{className:"h-5 w-5 text-[#96A8D4] absolute right-4","aria-hidden":"true"})]})}),(0,r.jsx)(l.u,{as:n.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(o.Ri.Options,{className:"absolute right-0 z-10 mt-2 overflow-hidden rounded-[15px] bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ".concat(m),children:p.map(e=>(0,r.jsx)(o.Ri.Option,{className:e=>{let{active:t}=e;return"relative cursor-pointer select-none py-3 pl-6 pr-4 ".concat(t?"bg-[#E9F5FF] text-accent-blue":"text-gray-900")},value:e,children:t=>{let{selected:a}=t;return(0,r.jsx)("span",{className:"block truncate text-[18px] ".concat(a?"font-medium text-accent-blue":"font-normal"),children:e.name})}},e.id))})})]})})}},5571:function(e,t,a){a.d(t,{m:function(){return useDepositCalculator}});var r=a(7294);let validateAmount=e=>{let t=parseFloat(e.replace(/[^\d.]/g,""));return isNaN(t)?"Введите корректную сумму":t<1?"Минимальная сумма вклада 1 ₽":t>1e7?"Максимальная сумма вклада 10 000 000 ₽":void 0},validateTerm=e=>e<=0?"Срок вклада должен быть больше 0":e>60?"Максимальный срок вклада 60 месяцев":void 0,validateRate=e=>{let t=parseFloat(e.replace(",","."));return isNaN(t)?"Введите корректную ставку":t<.01?"Минимальная ставка 0.01%":t>50?"Максимальная ставка 50%":void 0},formatNumber=e=>new Intl.NumberFormat("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e),formatAmount=e=>{let t=e.replace(/[^\d]/g,""),a=parseInt(t)||0;return new Intl.NumberFormat("ru-RU").format(a)},formatRate=e=>{if(""===e)return"";let t=e.replace(/[^\d.,]/g,"").replace(",",".");if("."===t)return t;if(t.includes(".")){let[e,a]=t.split(".");return"".concat(e,".").concat((a||"").slice(0,2))}let a=parseFloat(t);return isNaN(a)?"":a.toString()},useDepositCalculator=()=>{let[e,t]=(0,r.useState)(formatAmount("1000000")),[a,n]=(0,r.useState)("1"),[o,l]=(0,r.useState)("year"),[i,s]=(0,r.useState)("5.00"),[c,d]=(0,r.useState)(new Date),[u,p]=(0,r.useState)(!1),[x,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(0),[b,f]=(0,r.useState)(0),[v,w]=(0,r.useState)(0),[y,N]=(0,r.useState)([]),[j,F]=(0,r.useState)(0),[k,S]=(0,r.useState)(!1),[_,C]=(0,r.useState)({}),convertToMonths=(e,t)=>{let a=parseInt(e)||0;return"year"===t?12*a:a};return(0,r.useEffect)(()=>{console.log("=== ВЫЗОВ USEEFFECT ==="),console.log("isCapitalized:",u),console.log("capitalizationPeriod:",x),console.log("Все зависимости:",{amount:e,term:a,periodType:o,rate:i,startDate:c}),(()=>{if(console.log("=== НАЧАЛО РАСЧЕТА ==="),Object.values(_).some(e=>void 0!==e)){console.log("Есть ошибки валидации, прерываем расчет");return}let t=parseFloat(e.replace(/[^\d]/g,"")),r=parseFloat(i.replace(",",".")),n=convertToMonths(a,o),l=n/12;if(isNaN(t)||isNaN(r)||n<=0){console.log("Некорректные входные данные, прерываем расчет");return}console.log("Входные данные для расчета:"),console.log("- Сумма:",t),console.log("- Ставка:",r),console.log("- Месяцев:",n),console.log("- Лет:",l);let s=t,d=0,p=[],m=new Date(c);if(p.push({date:m.toLocaleDateString("ru-RU"),interest:0,balance:t,isCapitalization:!1}),u&&x){console.log("=== ВХОДНЫЕ ДАННЫЕ ==="),console.log("Начальная сумма:",t),console.log("Срок в месяцах:",n),console.log("Ставка:",r),console.log("Период капитализации:",x),console.log("Дата начала:",c);let e={monthly:1,quarterly:3,yearly:12}[x],a=n>=e;if(a){if("monthly"===x)s=t*Math.pow(1+r/100/12,n);else if("quarterly"===x){let e=n/3;s=t*Math.pow(1+r/100/4,e)}else"yearly"===x&&(s=t*Math.pow(1+r/100,l));d=s-t;let a=Math.ceil(n/e);for(let o=1;o<=a;o++){let a;let l=Math.min(o*e,n);if("monthly"===x)a=t*Math.pow(1+r/100/12,l);else if("quarterly"===x){let e=l/3;a=t*Math.pow(1+r/100/4,e)}else if("yearly"===x){let e=l/12;a=t*Math.pow(1+r/100,e)}let i=1===o?a-t:a-p[p.length-1].balance;(m=new Date(c)).setMonth(m.getMonth()+l),p.push({date:m.toLocaleDateString("ru-RU"),interest:i,balance:a,isCapitalization:!0})}if(console.log("=== РЕЗУЛЬТАТЫ РАСЧЕТА ==="),console.log("Итоговая сумма:",s),console.log("Прибыль:",d),console.log("Срок в годах:",l),l>0){let e=d/t/l*100;console.log("Простая среднегодовая доходность:",e),w(Math.round(100*e)/100)}else w(Number(r))}else{console.log("=== ИСКЛЮЧЕНИЕ: Срок меньше периода капитализации ==="),console.log("Срок: ".concat(n," месяцев, Период капитализации: ").concat(e," месяцев"));let a=t*(r/100),o=a/12;s=t+(d=o*n),w(Number(r));for(let e=1;e<=n;e++)(m=new Date(c)).setMonth(m.getMonth()+e),p.push({date:m.toLocaleDateString("ru-RU"),interest:o,balance:t+o*e,isCapitalization:!1})}}else{let e=t*(r/100),a=e/12;s=t+(d=a*n),console.log("Расчет без капитализации");for(let e=1;e<=n;e++)(m=new Date(c)).setMonth(m.getMonth()+e),p.push({date:m.toLocaleDateString("ru-RU"),interest:a,balance:t+a*e,isCapitalization:!1});if(l>0){let e=d/t/l*100;console.log("Простая среднегодовая доходность без капитализации:",e),w(Math.round(100*e)/100)}else console.log("=== ИСКЛЮЧЕНИЕ: Срок меньше года без капитализации, эффективная ставка = номинальной ==="),w(Number(r))}g(s),f(d),N(p);let h=p.filter(e=>e.interest>0).reduce((e,t)=>e+t.interest,0);F(h)})()},[e,a,o,i,c,u,x,_]),{amount:e,term:a,periodType:o,rate:i,startDate:c,total:h,profit:b,schedule:y,totalInterest:j,isVisible:k,errors:_,effectiveRate:v,setAmount:e=>{let a=e.replace(/[^\d]/g,"");t(formatAmount(a)),C(e=>({...e,amount:validateAmount(a)}))},setTerm:e=>{if(""===e||/^\d{1,3}$/.test(e)){n(e);let t=convertToMonths(e,o);C(e=>({...e,term:validateTerm(t)}))}},setPeriodType:l,setRate:e=>{let t=formatRate(e);s(t),t&&!t.endsWith(".")?C(e=>({...e,rate:validateRate(t)})):C(e=>({...e,rate:void 0}))},setStartDate:d,setIsVisible:S,isCapitalized:u,capitalizationPeriod:x,setIsCapitalized:e=>{e?(p(!0),m("monthly")):(p(!1),m(null))},setCapitalizationPeriod:m,formatNumber}}}}]);