"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{3075:function(e,t,n){n.d(t,{NI:function(){return useInteractions},Rz:function(){return useInnerOffset},YF:function(){return useFloating},aN:function(){return inner}});var r,l=n(7294),u=n(7145),o=n(1347),i=n(7317),c=n(3935),f=n(1371),s=n(9545);let a={...r||(r=n.t(l,2))},g=a.useInsertionEffect,m=g||(e=>e());function useEffectEvent(e){let t=l.useRef(()=>{});return m(()=>{t.current=e}),l.useCallback(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}var d="undefined"!=typeof document?l.useLayoutEffect:l.useEffect;let h=!1,p=0,genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+p++,v=a.useId,C=v||function(){let[e,t]=l.useState(()=>h?genId():void 0);return d(()=>{null==e&&t(genId())},[]),l.useEffect(()=>{h=!0},[]),e},E=l.createContext(null),R=l.createContext(null),useFloatingParentNodeId=()=>{var e;return(null==(e=l.useContext(E))?void 0:e.id)||null},useFloatingTree=()=>l.useContext(R);function useFloating(e){void 0===e&&(e={});let{nodeId:t}=e,n=function(e){let{open:t=!1,onOpenChange:n,elements:r}=e,u=C(),o=l.useRef({}),[i]=l.useState(()=>(function(){let e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}})()),c=null!=useFloatingParentNodeId(),[f,s]=l.useState(r.reference),a=useEffectEvent((e,t,r)=>{o.current.openEvent=e?t:void 0,i.emit("openchange",{open:e,event:t,reason:r,nested:c}),null==n||n(e,t,r)}),g=l.useMemo(()=>({setPositionReference:s}),[]),m=l.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return l.useMemo(()=>({dataRef:o,open:t,onOpenChange:a,elements:m,events:i,floatingId:u,refs:g}),[t,a,m,i,u,g])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,u=r.elements,[o,c]=l.useState(null),[s,a]=l.useState(null),g=null==u?void 0:u.domReference,m=g||o,h=l.useRef(null),p=useFloatingTree();d(()=>{m&&(h.current=m)},[m]);let v=(0,f.YF)({...e,elements:{...u,...s&&{reference:s}}}),E=l.useCallback(e=>{let t=(0,i.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;a(t),v.refs.setReference(t)},[v.refs]),R=l.useCallback(e=>{((0,i.kK)(e)||null===e)&&(h.current=e,c(e)),((0,i.kK)(v.refs.reference.current)||null===v.refs.reference.current||null!==e&&!(0,i.kK)(e))&&v.refs.setReference(e)},[v.refs]),y=l.useMemo(()=>({...v.refs,setReference:R,setPositionReference:E,domReference:h}),[v.refs,R,E]),F=l.useMemo(()=>({...v.elements,domReference:m}),[v.elements,m]),H=l.useMemo(()=>({...v,...r,refs:y,elements:F,nodeId:t}),[v,y,F,t,r]);return d(()=>{r.dataRef.current.floatingContext=H;let e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=H)}),l.useMemo(()=>({...v,context:H,refs:y,elements:F}),[v,y,F,H])}let y="active",F="selected";function mergeProps(e,t,n){let r=new Map,l="item"===n,u=e;if(l&&e){let{[y]:t,[F]:n,...r}=e;u=r}return{..."floating"===n&&{tabIndex:-1,"data-floating-ui-focusable":""},...u,...t.map(t=>{let r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[n,u]=t;if(!(l&&[y,F].includes(n))){if(0===n.indexOf("on")){if(r.has(n)||r.set(n,[]),"function"==typeof u){var o;null==(o=r.get(n))||o.push(u),e[n]=function(){for(var e,t=arguments.length,l=Array(t),u=0;u<t;u++)l[u]=arguments[u];return null==(e=r.get(n))?void 0:e.map(e=>e(...l)).find(e=>void 0!==e)}}}else e[n]=u}}),e),{})}}function useInteractions(e){void 0===e&&(e=[]);let t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),u=l.useCallback(t=>mergeProps(t,e,"reference"),t),o=l.useCallback(t=>mergeProps(t,e,"floating"),n),i=l.useCallback(t=>mergeProps(t,e,"item"),r);return l.useMemo(()=>({getReferenceProps:u,getFloatingProps:o,getItemProps:i}),[u,o,i])}function getArgsWithCustomFloatingHeight(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}let inner=e=>({name:"inner",options:e,async fn(t){let{listRef:n,overflowRef:r,onFallbackChange:l,offset:u=0,index:i=0,minItemsVisible:a=4,referenceOverflowThreshold:g=0,scrollRef:m,...d}=(0,o.ku)(e,t),{rects:h,elements:{floating:p}}=t,v=n.current[i],C=(null==m?void 0:m.current)||p,E=p.clientTop||C.clientTop,R=0!==p.clientTop,y=0!==C.clientTop,F=p===C;if(!v)return{};let H={...t,...await (0,f.cv)(-v.offsetTop-p.clientTop-h.reference.height/2-v.offsetHeight/2-u).fn(t)},M=await (0,s.US)(getArgsWithCustomFloatingHeight(H,C.scrollHeight+E+p.clientTop),d),b=await (0,s.US)(H,{...d,elementContext:"reference"}),k=(0,o.Fp)(0,M.top),x=H.y+k,T=C.scrollHeight>C.clientHeight,I=T?e=>e:o.NM,S=I((0,o.Fp)(0,C.scrollHeight+(R&&F||y?2*E:0)-k-(0,o.Fp)(0,M.bottom)));if(C.style.maxHeight=S+"px",C.scrollTop=k,l){let e=C.offsetHeight<v.offsetHeight*(0,o.VV)(a,n.current.length)-1||b.top>=-g||b.bottom>=-g;c.flushSync(()=>l(e))}return r&&(r.current=await (0,s.US)(getArgsWithCustomFloatingHeight({...H,y:x},C.offsetHeight+E+p.clientTop),d)),{y:x}}});function useInnerOffset(e,t){let{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:f,onChange:s}=t,a=useEffectEvent(s),g=l.useRef(!1),m=l.useRef(null),d=l.useRef(null);l.useEffect(()=>{if(!o)return;function onWheel(t){if(t.ctrlKey||!e||null==i.current)return;let n=t.deltaY,r=i.current.top>=-.5,l=i.current.bottom>=-.5,o=e.scrollHeight-e.clientHeight,f=n<0?-1:1,s=n<0?"max":"min";!(e.scrollHeight<=e.clientHeight)&&(!r&&n>0||!l&&n<0?(t.preventDefault(),c.flushSync(()=>{a(e=>e+Math[s](n,o*f))})):/firefox/i.test((0,u.ij)())&&(e.scrollTop+=n))}let e=(null==f?void 0:f.current)||r.floating;if(n&&e)return e.addEventListener("wheel",onWheel),requestAnimationFrame(()=>{m.current=e.scrollTop,null!=i.current&&(d.current={...i.current})}),()=>{m.current=null,d.current=null,e.removeEventListener("wheel",onWheel)}},[o,n,r.floating,i,f,a]);let h=l.useMemo(()=>({onKeyDown(){g.current=!0},onWheel(){g.current=!1},onPointerMove(){g.current=!1},onScroll(){let e=(null==f?void 0:f.current)||r.floating;if(i.current&&e&&g.current){if(null!==m.current){let t=e.scrollTop-m.current;(i.current.bottom<-.5&&t<-1||i.current.top<-.5&&t>1)&&c.flushSync(()=>a(e=>e+t))}requestAnimationFrame(()=>{m.current=e.scrollTop})}}}),[r.floating,a,i,f]);return l.useMemo(()=>o?{floating:h}:{},[o,h])}}}]);